(this["webpackJsonpreact-login"]=this["webpackJsonpreact-login"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/haiku-seeklogo.com.2a75c61d.svg"},26:function(e,t,n){e.exports=n(57)},31:function(e,t,n){},32:function(e,t,n){},51:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),i=n.n(l),c=(n(31),n(2)),o=n(4),u=n(6),s=n(5),h=n(7),m=(n(32),n(62)),p=n(60),d=n(61),f=n(11),g=n(58),v=n(13),b=n.n(v),E=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,n,a){return t.service.post("/signup",{username:e,password:n,email:a}).then((function(e){return e.data}))},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=b.a.create({baseURL:"http://localhost:3010/api/auth",withCredentials:!0})},O=(n(51),n(18)),y=n.n(O);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleLogout=function(e){n.props.logout()},n.state={loggedInUser:null},n.service=new E,n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("img",{src:y.a,alt:"",height:"60"}),r.a.createElement(g.a,{to:"/home",style:{textDecoration:"none"}},"Home")," ",r.a.createElement("br",null),r.a.createElement(g.a,{to:"/createhaiku",style:{textDecoration:"none"}},"Create Haiku")," ",r.a.createElement("br",null),r.a.createElement(g.a,{to:"/generatehaiku",style:{textDecoration:"none"}},"Generate Haiku")," ",r.a.createElement("br",null),r.a.createElement(g.a,{to:"/myprofile",style:{textDecoration:"none"}},this.state.loggedInUser.username)," ",r.a.createElement("br",null),r.a.createElement("a",{onClick:this.handleLogout},"Logout"),r.a.createElement("div",{className:"header"})):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement("img",{src:y.a,alt:"",height:"60"}),r.a.createElement(g.a,{to:"/signup",style:{textDecoration:"none"}},"Signup"),r.a.createElement(g.a,{to:"/login",style:{textDecoration:"none"}},"Login")))}}]),t}(a.Component),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password,r=n.state.email;n.service.signup(t,a).then((function(e){n.setState({username:"",password:"",email:""}),n.props.getUser(e.user)})).catch((function(e){n.setState({username:t,password:a,email:r,error:!0})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)({},a,r))},n.state={username:"",password:"",email:""},n.service=new E,n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Matsuo Bash\u014d",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",placeholder:"Matsuo@Haikulover.com",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"******",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Click here and take out your writer inside"})),r.a.createElement("h4",null,this.state.error?"Oups! Something went wrong!":""))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({username:t,password:a,error:!1}),n.props.getUser(e)})).catch((function(e){n.setState({username:t,password:a,error:!0})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)({},a,r))},n.state={username:"",password:""},n.service=new E,n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Matsuo Bash\u014d",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"******",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Click here and take out your writer inside"})),r.a.createElement("h4",null,this.state.error?"Incorrect user or password":""))}}]),t}(a.Component),S=(n(54),function e(){var t=this;Object(c.a)(this,e),this.add=function(e,n,a,r){return t.service.post("/add",{name:e,line1:n,line2:a,line3:r}).then((function(e){return e.data}))},this.getAll=function(){return console.log("hola"),t.service.get("/all/Haikus").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.service=b.a.create({baseURL:"http://localhost:3010/haikus",withCredentials:!0})});function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var x=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={haikus:[]},e.service=new S,e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.getAll().then((function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state,{haikus:t.haikus}))}))}},{key:"render",value:function(){return console.log(this.state.haikus),r.a.createElement("div",null,r.a.createElement("h1",null,"All Haikus"),r.a.createElement("div",{className:"home"},this.state.haikus.map((function(e,t){return r.a.createElement("div",{className:"haikus",key:t},r.a.createElement("h3",null,e.name),r.a.createElement("h4",null,"Created by: ",e.creatorId.username),r.a.createElement("p",null,e.line1),r.a.createElement("p",null,e.line2),r.a.createElement("p",null,e.line3))}))))}}]),t}(a.Component),I=(n(55),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).handleChange=function(t){var n,a=t.target,r=a.name,l=a.value;e.setState((n={},Object(f.a)(n,r,l),Object(f.a)(n,"line1check",t.target.value),n))},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state.name,a=e.state.line1,r=e.state.line2,l=e.state.line3;console.log(e.checkHaiku(a,r,l)),!0===e.checkHaiku(a,r,l)?e.service.add(n,a,r,l).then((function(t){e.setState({name:"",line1:"",line2:"",line3:""})})).catch((function(t){e.setState({name:n,line1:a,line2:r,line3:l})})):e.setState({name:n,line1:a,line2:r,line3:l})},e.state={name:"",line1:"",line2:"",line3:"",line1check:""},e.service=new S,e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"checkHaiku",value:function(e,t,n){return function(e,t,n){if(!e||!t||!n)return{result:!1,error:"Invalid input. Call haiku(line1, line2, line3)"};var r=[a(e),a(t),a(n)];if(l=r,i=[5,7,5],l.length===i.length&&l.every((function(e,t){return e===i[t]})))return!0;var l,i;return{result:!1,syllables:r}}(e,t,n);function a(e){var t=0;return e.split(" ").map((function(e,n){var a;t+=(a=(a=e).toLowerCase()).length<=3?1:a.replace(/(?:[^laeiouy]es|ed|lle|[^laeiouy]e)$/,"").replace(/^y/,"").match(/[aeiouy]{1,2}/g).length})),t}}},{key:"render",value:function(){var e=this;return this.checkHaiku(),r.a.createElement("div",{className:"haikuform"},r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Name of your Haiku: ")," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"Give a name to your Haiku",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Line 1: "),r.a.createElement("input",{type:"text",name:"line1",value:this.state.line1,placeholder:"It begins with five",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Line 2: "),r.a.createElement("input",{type:"text",name:"line2",value:this.state.line2,placeholder:"Then seven in the middle",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Line 3: "),r.a.createElement("input",{type:"text",name:"line3",value:this.state.line3,placeholder:"Five again to end",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Create Haiku"})))}}]),t}(a.Component)),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component),H=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).getUser=function(e){n.setState({loggedInUser:e})},n.logout=function(){n.service.logout().then((function(){n.setState({loggedInUser:null})}))},n.state={loggedInUser:null},n.service=new E,n.fetchUser(),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(k,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(m.a,{exact:!0,path:"/createhaiku",render:function(){return r.a.createElement(I,null)}}),r.a.createElement(m.a,{exact:!0,path:"/generatehaiku",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(m.a,{exact:!0,path:"/myprofile",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(p.a,{to:"/home"}),r.a.createElement(m.a,{exact:!0,path:"/home",render:function(){return r.a.createElement(x,null)}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(k,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"hometext"},r.a.createElement("h1",null,"Welcome to Hey Haiku!"),r.a.createElement("h3",null,"Create, share, enjoy it,",r.a.createElement("br",null)," a new world awaits for you,",r.a.createElement("br",null)," Hey Haiku is here."),r.a.createElement("h5",null,"Feeling the inspiration? Log in or sign up below to start creating your best haikus!")),r.a.createElement("div",{className:"login"},r.a.createElement(d.a,null,r.a.createElement(m.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(w,{getUser:e.getUser})}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(C,{getUser:e.getUser})}}))))))}}]),t}(a.Component),N=n(59);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N.a,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.10a4f4d6.chunk.js.map